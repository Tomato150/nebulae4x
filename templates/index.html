<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Index</title>

    <!-- Bootstrap stylesheet -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome stylesheet -->
    <link href="/static/font-awesome-4.6.1/css/font-awesome.min.css" rel="stylesheet">
    <!-- Custom stylesheet -->
    <link href="/static/css/custom.css" rel="stylesheet">

</head>
<body>

    <!-- Hidden Images -->
    <div hidden>
        <img src="/static/images/2016_tile.png" alt="star_tile" id="star_tile">
    </div>

    <div id="contextual-window" style="left: -1200px;">
        <div id="system-container" class="container-fluid" style="padding: 5px;">
            <h1 id="star-system-name"><small id="star-system-coordinates" class="text-muted"></small></h1>

            <hr>

            <ul class="nav nav-pills">
                <li class="nav-item"><a class="nav-link active" data-toggle="tab" role="tab" href="#system-overview-tab">Overview</a></li>
                <li class="nav-item"><a class="nav-link" data-toggle="tab" role="tab" href="#system-fleet-tab">Fleets</a></li>
                <!--<li class="nav-item"><a class="nav-link" data-toggle="tab" role="tab" href="#"></a></li>-->
            </ul>

            <div class="tab-content">
                <div id="system-overview-tab" class="tab-pane active" role="tabpanel">
                    <div class="row">
                        <div class="col-xl-12">
                            <h1>Overview</h1>
                            <hr>
                            <h2>Planets</h2>
                            <!-- For planet template to be rendered in (id="planet-card-template") -->
                            <div id="system-overview-tab-planets" class="card" role="tablist"></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="system-fleet-tab" role="tabpanel">
                    <h1>Fleet</h1>
                </div>
            </div>
        </div> <!-- System Div -->

        <div id="planetary-container" class="container-fluid" style="padding: 5px;">
            <h1 id="planet-system-name"><small id="planet-solar-system" class="text-muted"></small></h1>

            <ul class="nav nav-pills">
                <li class="nav-item"><a class="nav-link active" data-toggle="tab" role="tab" href="#planet-overview-tab"></a></li>
            </ul>

            <div class="tab-content">
                <div id="planet-overview-tab" class="tab-pane active" role="tabpanel">
                    <div class="row">
                        <div class="col-xl-12">
                            <h1>Overview</h1>
                            <hr>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- Contextual-window -->

    <div id="viewport" class="" style="position: fixed; overflow: hidden; height: 100vh; width: 100vw;">
        <button id="slide" class="btn btn-primary" style="top: 90%; left: 90%; position: fixed;">slide</button>
        <canvas id="canvas"></canvas>
    </div>

    <!-- Bootstrap Dependencies -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="/static/js/jquery-2.2.1.min.js"></script>
    <!-- Tether -->
    <script src="/static/js/tether/js/tether.min.js"></script>

    <!-- Bootstrap -->
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/static/js/bootstrap.min.js"></script>

    <!-- Personally chosen plugins -->
    <script src="/static/js/pixi.min.js"></script>
    <script src="/static/js/jsrender.min.js"></script>

    <script src="/static/js/world.js"></script>
    <script src="/static/js/handlers.js"></script>

    {% raw %}
    <script id="planet-card-template" type="text/x-jsrender">
        <div class="list-group list-group-flush">
            <div id="{{:name}}-heading" class="card-header planet-card-header" role="tab">
                <h5 class="mb-0">
                    <a class="planet-card-header-link" data-toggle="collapse" data-parent="overview-tab-colonies" href="#{{:name}}-body">Earth</a>
                </h5>
            </div>

            <div id="{{:name}}-body" class="collapse" role="tabpanel" aria-labelledby="{{:name}}-heading">
                <div class="card-block" style="border-bottom: 1px solid rgba(0,0,0,.125);">
                    <p>{{:name}} Filler Text.</p>
                </div>
            </div>
        </div>
    </script>
    {% endraw %}

    <script>
        $(document).ready(function () {
            var world = world_object;
            var handlers = handler_object;
            world.init();

            $(window).on('mousewheel', function (e) {handlers.mouse_scroll(e, world);});

            $('#canvas').on('mousedown', function (e) {handlers.canvas_mouse_click(e, world);} );

            $(window).on('mousemove', function (e) {handlers.mouse_move(e, world);} );

            $(window).on('mouseup', function (e) {handlers.mouse_click_up(e, world);} );

            $(window).on('click', '.planet-card-header-link', function (e) {handlers.planet_card_click(e, world);});

            $('#slide').on('click', function (e) {handlers.slide_click(e, world);} );
        })
    </script>
</body>
</html>